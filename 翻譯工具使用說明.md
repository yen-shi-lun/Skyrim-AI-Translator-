# Ollama 本地 AI 翻譯工具使用說明書

本工具專為遊戲模組翻譯設計，透過串接本地的 Ollama AI 模型，自動將 xTranslator 輸出的 XML 翻譯檔案轉換為流暢的繁體中文。

## ✨ 工具特色
*   **本地運算**：完全在您的電腦上運行，無需上傳檔案，保護隱私且無 API 額外費用。
*   **智能理解**：AI 能根據上下文進行翻譯，比傳統機器翻譯更通順。
*   **安全機制**：翻譯結果會自動另存新檔，**絕對不會覆蓋**您的原始備份。

## 🛠️ 事前準備
在使用之前，請確保您的環境已準備就緒：

1.  **安裝 Ollama**：請確保 Ollama服務已安裝且正在背景執行 (系統列可見圖示)。
2.  **下載模型**：建議使用輕量且強大的模型 (本工具預設設定為 `gemma3:4b`，兼顧速度與品質)。
3.  **Python 環境**：需安裝 Python 以及 `requests`, `tqdm` 套件 (已在您的環境設定完成)。

## 🚀 操作流程

### 步驟 1：匯出 XML (從 xTranslator)
1.  開啟 **xTranslator** 並載入您要翻譯的模組 (ESP/ESM)。
2.  點擊上方選單的 **「文件 (File)」**。
3.  選擇 **「導出翻譯 (Export Translation)」** -> **「XML 文件 (xTranslator)」**。
4.  將檔案儲存在您方便存取的位置。

### 步驟 2：執行 AI 翻譯
1.  進入工具資料夾：`Desktop\20251225 Skyrim AI`。
2.  雙擊執行 **`translate_with_ollama.py`**。
3.  視窗跳出後，貼上剛剛匯出的 **XML 檔案完整路徑** (或直接輸入檔名)。
4.  程式將開始運作，您會看到進度條顯示目前翻譯進度。
    *   *系統會自動過濾非必要的思考標籤，只保留最終翻譯結果。*

### 步驟 3：匯入翻譯 (回 xTranslator)
1.  等待翻譯完成，工具會顯示「檔案已儲存」並產生一個新檔案 (檔名結尾為 `_Ollama_AI.xml`)。
2.  回到 **xTranslator**。
3.  點擊上方選單的 **「翻譯 (Tools/Translate)」**。
4.  選擇 **「導入翻譯 (Import Translation)」** -> **「XML 文件 (xTranslator)」**。
5.  選擇剛剛生成的 `_Ollama_AI.xml` 檔案。
6.  在彈出視窗中選擇 **「全部覆蓋」** 以應用新的翻譯。
7.  最後點擊 **「文件」** -> **「完成 Esp/Esm 翻譯」** 即可儲存至模組。

## ⚙️ 進階設定 (更換模型)
如果您想嘗試不同的 AI 模型 (例如 DeepSeek 系列)：
1.  對 `translate_with_ollama.py` 點擊右鍵，選擇「編輯」或用記事本打開。
2.  找到程式碼上方的變數設定：
    ```python
    OLLAMA_MODEL = "gemma3:4b" 
    ```
3.  將引號內的名稱修改為您想使用的模型名稱 (例如 `huihui_ai/deepseek-r1-abliterated:32b`)。
4.  儲存檔案即可生效。

---
*注意：翻譯速度取決於您的電腦硬體效能與選用的模型大小。*
